# Slack Web API Wrapper

**Simplest** Client interface for accessing [Slack Web API](https://api.slack.com/web).

[![Latest Stable Version](https://poser.pugx.org/wrapi/slack/v/stable)](https://packagist.org/packages/wrapi/slack)
[![License](https://poser.pugx.org/wrapi/slack/license)](https://github.com/palanik/slack-php/blob/master/LICENSE)

## Install

Via Composer:

```bash
$ composer require "wrapi/slack:*"
```

## Usage
Create a slack client with API token to connect to Slack Web API.

```PHP
// This file is generated by Composer
require_once __DIR__ . '/vendor/autoload.php';

$slack = new wrapi\slack\slack(SLACK_API_TOKEN);

// Now you are ready to make API calls to Slack.
```

Provide API parameters to the calls.

API calls follow this syntax:

`$slack->apigroup->action($queryString);`

* `queryString` - (*as required*) API method parameters as key-value pairs.

#### Post a message:
```PHP
$slack->chat->postMessage(array(
    "channel" => "#general",
    "text" => "Hello World!"
  )
)
```

### Examples

#### Lists custom emoji for a team.
```PHP
$emojis = $slack->emoji->list();
```

#### Lists all channels in a Slack team.
```PHP
$channels = $slack->channels->list(array("exclude_archived" => 1));
```

#### Gets information about a private group.
```PHP
$myGroup = $slack->groups->info(array("channel" => "G1234567890"));
```

#### Adds a reaction to an item.
```PHP
$slack->reactions->add(array(
    "name" => "thumbsup",
    "file" => "F1234567890",
    "file_comment" => "Fc1234567890",
    "channel" => "G1234567890",
    "timestamp" => "1234567890.123456"
  )
);
```

#### Gets information about a user.
```PHP
$user = $slack->users->info(array("user" => "U1234567890"));
```

#### Post chat messages to Slack.
```PHP
$response = $slack->chat->postMessage(array(
    "channel" => "#general",
    "text" => "Hello <@u12345678|world>!",
    "username" => "Wrapi Bot",
    "as_user" => false,
    "parse" => "full",
    "link_names" => 1,
    "unfurl_links" => true,
    "unfurl_media" => false
  )
)
```

## API Functions

### admin.apps
* [admin->apps->approve](https://api.slack.com/methods/admin.apps.approve)
* [admin->apps->restrict](https://api.slack.com/methods/admin.apps.restrict)

### admin.apps.approved
* [admin->apps->approved->list](https://api.slack.com/methods/admin.apps.approved.list)

### admin.apps.requests
* [admin->apps->requests->list](https://api.slack.com/methods/admin.apps.requests.list)

### admin.apps.restricted
* [admin->apps->restricted->list](https://api.slack.com/methods/admin.apps.restricted.list)

### admin.conversations.restrictAccess
* [admin->conversations->restrictAccess->addGroup](https://api.slack.com/methods/admin.conversations.restrictAccess.addGroup)
* [admin->conversations->restrictAccess->listGroups](https://api.slack.com/methods/admin.conversations.restrictAccess.listGroups)
* [admin->conversations->restrictAccess->removeGroup](https://api.slack.com/methods/admin.conversations.restrictAccess.removeGroup)

### admin.conversations
* [admin->conversations->setTeams](https://api.slack.com/methods/admin.conversations.setTeams)

### admin.conversations.whitelist
> This is deprecated. Use `admin.conversations.restrictAccess` instead.
* [admin->conversations->whitelist->add](https://api.slack.com/methods/admin.conversations.whitelist.add)
* [admin->conversations->whitelist->listGroupsLinkedToChannel](https://api.slack.com/methods/admin.conversations.whitelist.listGroupsLinkedToChannel)
* [admin->conversations->whitelist->remove](https://api.slack.com/methods/admin.conversations.whitelist.remove)

### admin.emoji
* [admin->emoji->add](https://api.slack.com/methods/admin.emoji.add)
* [admin->emoji->addAlias](https://api.slack.com/methods/admin.emoji.addAlias)
* [admin->emoji->list](https://api.slack.com/methods/admin.emoji.list)
* [admin->emoji->remove](https://api.slack.com/methods/admin.emoji.remove)
* [admin->emoji->rename](https://api.slack.com/methods/admin.emoji.rename)

### admin.inviteRequests
* [admin->inviteRequests->approve](https://api.slack.com/methods/admin.inviteRequests.approve)
* [admin->inviteRequests->deny](https://api.slack.com/methods/admin.inviteRequests.denyt)
* [admin->inviteRequests->list](https://api.slack.com/methods/admin.inviteRequests.list)

### admin.inviteRequests.approved
* [admin->inviteRequests->approved->list](https://api.slack.com/methods/admin.inviteRequests.approved.list)

### admin.inviteRequests.denied
* [admin->inviteRequests->denied->list](https://api.slack.com/methods/admin.inviteRequests.denied.list)

### admin.teams.admins
* [admin->teams->admins->list](https://api.slack.com/methods/admin.teams.admins.list)

### admin.teams
* [admin->teams->create](https://api.slack.com/methods/admin.teams.create)
* [admin->teams->list](https://api.slack.com/methods/admin.teams.list)

### admin.teams.owners
* [admin->teams->owners->list](https://api.slack.com/methods/admin.teams.owners.list)

### admin.teams.settings
* [admin->teams->settings->info](https://api.slack.com/methods/admin.teams.settings.info)
* [admin->teams->settings->setDefaultChannels](https://api.slack.com/methods/admin.teams.settings.setDefaultChannels)
* [admin->teams->settings->setDescription](https://api.slack.com/methods/admin.teams.settings.setDescription)
* [admin->teams->settings->setDiscoverability](https://api.slack.com/methods/admin.teams.settings.setDiscoverability)

### admin.usergroups
* [admin->usergroups->addChannels](https://api.slack.com/methods/admin.usergroups.addChannels)
* [admin->usergroups->addTeams](https://api.slack.com/methods/admin.usergroups.addTeams)
* [admin->usergroups->listChannels](https://api.slack.com/methods/admin.usergroups.listChannels)
* [admin->usergroups->removeChannels](https://api.slack.com/methods/admin.usergroups.removeChannels)

### admin.users
* [admin->users->assign](https://api.slack.com/methods/admin.users.assign)
* [admin->users->invite](https://api.slack.com/methods/admin.users.invite)
* [admin->users->list](https://api.slack.com/methods/admin.users.list)
* [admin->users->remove](https://api.slack.com/methods/admin.users.remove)
* [admin->users->setAdmin](https://api.slack.com/methods/admin.users.setAdmin)
* [admin->users->setExpiration](https://api.slack.com/methods/admin.users.setExpiration)
* [admin->users->setOwner](https://api.slack.com/methods/admin.users.setOwner)
* [admin->users->setRegular](https://api.slack.com/methods/admin.users.setRegular)

### admin.users.session
* [admin->users->session->reset](https://api.slack.com/methods/admin.users.session.reset)

### api
* [api->test](https://api.slack.com/methods/api.test)

### apps.permissions
* [apps->permissions->info](https://api.slack.com/methods/apps.permissions.info)
* [apps->permissions->request](https://api.slack.com/methods/apps.permissions.request)

### apps.permissions.resources
* [apps->permissions->resources.list](https://api.slack.com/methods/apps.permissions.resources.list)

### apps.permissions.scopes
* [apps->permissions->scopes.list](https://api.slack.com/methods/apps.permissions.scopes.list)

### apps.permissions.users
* [apps->permissions->users->list](https://api.slack.com/methods/apps.permissions.users.list)
* [apps->permissions->users->request](https://api.slack.com/methods/apps.permissions.users.request)

### apps
* [apps->uninstall](https://api.slack.com/methods/apps.uninstall)

### auth
* [auth->revoke](https://api.slack.com/methods/auth.revoke)
* [auth->test](https://api.slack.com/methods/auth.test)

### bots
* [bots->info](https://api.slack.com/methods/bots.info)

### calls
* [calls->add](https://api.slack.com/methods/calls.add)
* [calls->end](https://api.slack.com/methods/calls.end)
* [calls->info](https://api.slack.com/methods/calls.info)
* [calls->update](https://api.slack.com/methods/calls.update)

### calls.participants
* [calls->participants->add](https://api.slack.com/methods/calls.participants.add)
* [calls->participants->remove](https://api.slack.com/methods/calls.participants.remove)

### channels
> DEPRECATED: These will stop functioning in February 2021 and will not work with newly created apps after June 10th, 2020. Use `convrsations` instead.
* [channels->archive](https://api.slack.com/methods/channels.archive)
* [channels->create](https://api.slack.com/methods/channels.create)
* [channels->history](https://api.slack.com/methods/channels.history)
* [channels->info](https://api.slack.com/methods/channels.info)
* [channels->invite](https://api.slack.com/methods/channels.invite)
* [channels->join](https://api.slack.com/methods/channels.join)
* [channels->kick](https://api.slack.com/methods/channels.kick)
* [channels->leave](https://api.slack.com/methods/channels.leave)
* [channels->list](https://api.slack.com/methods/channels.list)
* [channels->mark](https://api.slack.com/methods/channels.mark)
* [channels->rename](https://api.slack.com/methods/channels.rename)
* [channels->replies](https://api.slack.com/methods/channels.replies)
* [channels->setPurpose](https://api.slack.com/methods/channels.setPurpose)
* [channels->setTopic](https://api.slack.com/methods/channels.setTopic)
* [channels->unarchive](https://api.slack.com/methods/channels.unarchive)

### chat
* [chat->delete](https://api.slack.com/methods/chat.delete)
* [chat->deleteScheduledMessage](https://api.slack.com/methods/chat.deleteScheduledMessage)
* [chat->getPermalink](https://api.slack.com/methods/chat.getPermalink)
* [chat->meMessage](https://api.slack.com/methods/chat.meMessage)
* [chat->postEphemeral](https://api.slack.com/methods/chat.postEphemeral)
* [chat->postMessage](https://api.slack.com/methods/chat.postMessage)
* [chat->scheduleMessage](https://api.slack.com/methods/chat.scheduleMessage)
* [chat->unfurl](https://api.slack.com/methods/chat.unfurl)
* [chat->update](https://api.slack.com/methods/chat.update)

### chat.scheduledMessages
* [chat->scheduledMessages->list](https://api.slack.com/methods/chat.scheduledMessages.list)

### conversations
* [conversations->archive](https://api.slack.com/methods/conversations.archive)
* [conversations->close](https://api.slack.com/methods/conversations.close)
* [conversations->create](https://api.slack.com/methods/conversations.create)
* [conversations->history](https://api.slack.com/methods/conversations.history)
* [conversations->info](https://api.slack.com/methods/conversations.info)
* [conversations->invite](https://api.slack.com/methods/conversations.invite)
* [conversations->join](https://api.slack.com/methods/conversations.join)
* [conversations->kick](https://api.slack.com/methods/conversations.kick)
* [conversations->leave](https://api.slack.com/methods/conversations.leave)
* [conversations->list](https://api.slack.com/methods/conversations.list)
* [conversations->mark](https://api.slack.com/methods/conversations.mark)
* [conversations->members](https://api.slack.com/methods/conversations.members)
* [conversations->open](https://api.slack.com/methods/conversations.open)
* [conversations->rename](https://api.slack.com/methods/conversations.rename)
* [conversations->replies](https://api.slack.com/methods/conversations.replies)
* [conversations->setPurpose](https://api.slack.com/methods/conversations.setPurpose)
* [conversations->setTopic](https://api.slack.com/methods/conversations.setTopic)
* [conversations->unarchive](https://api.slack.com/methods/conversations.unarchive)

### dialog
* [dialog->open](https://api.slack.com/methods/dialog.open)

### dnd
* [dnd->endDnd](https://api.slack.com/methods/dnd.endDnd)
* [dnd->endSnooze](https://api.slack.com/methods/dnd.endSnooze)
* [dnd->info](https://api.slack.com/methods/dnd.info)
* [dnd->setSnooze](https://api.slack.com/methods/dnd.setSnooze)
* [dnd->teamInfo](https://api.slack.com/methods/dnd.teamInfo)

### emoji
* [emoji->list](https://api.slack.com/methods/emoji.list)

### files.comments
* [files->comments->delete](https://api.slack.com/methods/files.comments.delete)

### files
* [files->delete](https://api.slack.com/methods/files.delete)
* [files->info](https://api.slack.com/methods/files.info)
* [files->list](https://api.slack.com/methods/files.list)
* [files->revokePublicURL](https://api.slack.com/methods/files.revokePublicURL)
* [files->sharedPublicURL](https://api.slack.com/methods/files.sharedPublicURL)
* [files->upload](https://api.slack.com/methods/files.upload)

### files.remote
* [files->remote->add](https://api.slack.com/methods/files.remote.add)
* [files->remote->info](https://api.slack.com/methods/files.remote.info)
* [files->remote->list](https://api.slack.com/methods/files.remote.list)
* [files->remote->remove](https://api.slack.com/methods/files.remote.remove)
* [files->remote->share](https://api.slack.com/methods/files.remote.share)
* [files->remote->update](https://api.slack.com/methods/files.remote.update)

### groups
> DEPRECATED: These will stop functioning in February 2021 and will not work with newly created apps after June 10th, 2020. Use `convrsations` instead.
* [groups->archive](https://api.slack.com/methods/groups.archive)
* [groups->create](https://api.slack.com/methods/groups.create)
* [groups->createChild](https://api.slack.com/methods/groups.createChild)
* [groups->history](https://api.slack.com/methods/groups.history)
* [groups->info](https://api.slack.com/methods/groups.info)
* [groups->invite](https://api.slack.com/methods/groups.invite)
* [groups->kick](https://api.slack.com/methods/groups.kick)
* [groups->leave](https://api.slack.com/methods/groups.leave)
* [groups->list](https://api.slack.com/methods/groups.list)
* [groups->mark](https://api.slack.com/methods/groups.mark)
* [groups->open](https://api.slack.com/methods/groups.open)
* [groups->rename](https://api.slack.com/methods/groups.rename)
* [groups->replies](https://api.slack.com/methods/groups.replies)
* [groups->setPurpose](https://api.slack.com/methods/groups.setPurpose)
* [groups->setTopic](https://api.slack.com/methods/groups.setTopic)
* [groups->unarchive](https://api.slack.com/methods/groups.unarchive)

### im
> DEPRECATED: These will stop functioning in February 2021 and will not work with newly created apps after June 10th, 2020. Use `convrsations` instead.
* [im->close](https://api.slack.com/methods/im.close)
* [im->history](https://api.slack.com/methods/im.history)
* [im->list](https://api.slack.com/methods/im.list)
* [im->mark](https://api.slack.com/methods/im.mark)
* [im->open](https://api.slack.com/methods/im.open)
* [im->replies](https://api.slack.com/methods/im.replies)

### migration
* [migration->exchange](https://api.slack.com/methods/migration.exchange)

### mpim
> DEPRECATED: These will stop functioning in February 2021 and will not work with newly created apps after June 10th, 2020. Use `convrsations` instead.
* [mpim->close](https://api.slack.com/methods/mpim.close)
* [mpim->history](https://api.slack.com/methods/mpim.history)
* [mpim->list](https://api.slack.com/methods/mpim.list)
* [mpim->mark](https://api.slack.com/methods/mpim.mark)
* [mpim->open](https://api.slack.com/methods/mpim.open)
* [mpim->replies](https://api.slack.com/methods/mpim.replies)

### oauth
* [oauth->access](https://api.slack.com/methods/oauth.access)
* [oauth->token](https://api.slack.com/methods/oauth.token)

### oauth.v2
* [oauth->v2->access](https://api.slack.com/methods/oauth.v2.access)

### pins
* [pins->add](https://api.slack.com/methods/pins.add)
* [pins->list](https://api.slack.com/methods/pins.list)
* [pins->remove](https://api.slack.com/methods/pins.remove)

### reactions
* [reactions->add](https://api.slack.com/methods/reactions.add)
* [reactions->get](https://api.slack.com/methods/reactions.get)
* [reactions->list](https://api.slack.com/methods/reactions.list)
* [reactions->remove](https://api.slack.com/methods/reactions.remove)

### reminders
* [reminders->add](https://api.slack.com/methods/reminders.add)
* [reminders->complete](https://api.slack.com/methods/reminders.complete)
* [reminders->delete](https://api.slack.com/methods/reminders.delete)
* [reminders->info](https://api.slack.com/methods/reminders.info)
* [reminders->list](https://api.slack.com/methods/reminders.list)

#### rtm
* [rtm->connect](https://api.slack.com/methods/rtm.connect)
* [rtm->start](https://api.slack.com/methods/rtm.start)

### search
* [search->all](https://api.slack.com/methods/search.all)
* [search->files](https://api.slack.com/methods/search.files)
* [search->messages](https://api.slack.com/methods/search.messages)

### stars
* [stars->add](https://api.slack.com/methods/stars.add)
* [stars->list](https://api.slack.com/methods/stars.list)
* [stars->remove](https://api.slack.com/methods/stars.remove)

#### team
* [team->accessLogs](https://api.slack.com/methods/team.accessLogs)
* [team->billableInfo](https://api.slack.com/methods/team.billableInfo)
* [team->info](https://api.slack.com/methods/team.info)
* [team->integrationLogs](https://api.slack.com/methods/team.integrationLogs)

### team.profile
* [team->profile->get](https://api.slack.com/methods/team.profile.get)

#### usergroups
* [usergroups->create](https://api.slack.com/methods/usergroups.create)
* [usergroups->disable](https://api.slack.com/methods/usergroups.disable)
* [usergroups->enable](https://api.slack.com/methods/usergroups.enable)
* [usergroups->list](https://api.slack.com/methods/usergroups.list)
* [usergroups->update](https://api.slack.com/methods/usergroups.update)

### usergroups.users
* [usergroups->users->list](https://api.slack.com/methods/usergroups.users.list)
* [usergroups->users->update](https://api.slack.com/methods/usergroups.users.update)

### users
* [users->conversations](https://api.slack.com/methods/users.conversations)
* [users->deletePhoto](https://api.slack.com/methods/users.deletePhoto)
* [users->getPresence](https://api.slack.com/methods/users.getPresence)
* [users->identity](https://api.slack.com/methods/users.identity)
* [users->info](https://api.slack.com/methods/users.info)
* [users->list](https://api.slack.com/methods/users.list)
* [users->lookupByEmail](https://api.slack.com/methods/users.lookupByEmail)
* [users->setActive](https://api.slack.com/methods/users.setActive)
* [users->setPhoto](https://api.slack.com/methods/users.setPhoto)
* [users->setPresence](https://api.slack.com/methods/users.setPresence)

### users.profile
* [users->profile->get](https://api.slack.com/methods/users.profile.get)
* [users->profile->set](https://api.slack.com/methods/users.profile.set)

### views
* [views->open](https://api.slack.com/methods/views.open)
* [views->publish](https://api.slack.com/methods/views.publish)
* [views->push](https://api.slack.com/methods/views.push)
* [views->update](https://api.slack.com/methods/views.update)

### workflows
* [workflows->stepCompleted](https://api.slack.com/methods/workflows.stepCompleted)
* [workflows->stepFailed](https://api.slack.com/methods/workflows.stepFailed)
* [workflows->updateStep](https://api.slack.com/methods/workflows.updateStep)

## License

  [MIT](LICENSE)
